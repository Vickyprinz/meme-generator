{"ast":null,"code":"var _jsxFileName = \"/home/victor/phase-3/project/meme/client/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport Home from './pages/Home';\nimport Signin from './pages/Signin';\nimport Signup from './pages/Signup';\nimport Memes from './pages/Meme';\nimport API from './API';\nimport Dashboard from './pages/Dashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      username: '',\n      myMemes: []\n    };\n    this.signin = (username, token) => {\n      localStorage.setItem('token', token);\n      this.setState({\n        username\n      }, () => {\n        this.props.history.push('/memes');\n      });\n    };\n    this.signup = username => {\n      this.setState({\n        username\n      });\n    };\n    this.signout = () => {\n      this.setState({\n        username: ''\n      });\n      localStorage.removeItem('token');\n      this.props.history.push('/');\n    };\n    this.addToMyMemes = newMeme => {\n      this.setState({\n        myMemes: [...this.state.myMemes, newMeme]\n      });\n    };\n    this.addManyToMyMemes = newMemes => {\n      this.setState({\n        myMemes: [...this.state.myMemes, ...newMemes]\n      });\n    };\n  }\n  componentDidMount() {\n    API.validate().then(data => {\n      if (data.error) {\n        this.props.history.push('/');\n      } else {\n        this.signin(data.username, localStorage.getItem('token'));\n        API.getDashboard().then(data => {\n          if (data.error) {\n            alert(\"You don't have any memes!\");\n          } else {\n            this.addManyToMyMemes(data);\n          }\n        });\n      }\n    });\n  }\n  render() {\n    const {\n      username,\n      myMemes\n    } = this.state;\n    const {\n      signin,\n      signup,\n      signout,\n      addManyToMyMemes\n    } = this;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            component: Home\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/signin\",\n            component: props => /*#__PURE__*/_jsxDEV(Signin, {\n              ...props,\n              signin: signin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/signup\",\n            component: props => /*#__PURE__*/_jsxDEV(Signup, {\n              ...props,\n              signup: signup\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/dashboard\",\n            component: props => /*#__PURE__*/_jsxDEV(Dashboard, {\n              ...props,\n              username: username,\n              signout: signout,\n              myMemes: myMemes,\n              addManyToMyMemes: addManyToMyMemes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/memes\",\n            component: props => /*#__PURE__*/_jsxDEV(Memes, {\n              ...props,\n              username: username,\n              signout: signout,\n              addToMyMemes: this.addToMyMemes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            component: () => /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Page not found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default _c = withRouter(App);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","Route","Switch","withRouter","Home","Signin","Signup","Memes","API","Dashboard","jsxDEV","_jsxDEV","App","constructor","arguments","state","username","myMemes","signin","token","localStorage","setItem","setState","props","history","push","signup","signout","removeItem","addToMyMemes","newMeme","addManyToMyMemes","newMemes","componentDidMount","validate","then","data","error","getItem","getDashboard","alert","render","className","children","exact","path","component","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/victor/phase-3/project/meme/client/src/App.js"],"sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport { Route, Switch, withRouter } from 'react-router-dom'\n\nimport Home from './pages/Home'\nimport Signin from './pages/Signin'\nimport Signup from './pages/Signup'\nimport Memes from './pages/Meme';\nimport API from './API';\nimport Dashboard from './pages/Dashboard'\n\n\nclass App extends Component {\n  state = {\n    username: '', \n    myMemes: []\n  }\n\n  signin = (username, token) => {\n    localStorage.setItem('token', token)\n    this.setState({username}, () => {\n      this.props.history.push('/memes')\n    })\n  }\n\n  signup = (username) => {\n    this.setState({username})\n  }\n\n  signout = () => {\n    this.setState({username: ''})\n    localStorage.removeItem('token')\n    this.props.history.push('/')\n  }\n\n  addToMyMemes = (newMeme) => {\n    this.setState({myMemes: [...this.state.myMemes, newMeme]})\n  }\n\n  addManyToMyMemes = (newMemes) => {\n    this.setState({myMemes: [...this.state.myMemes, ...newMemes]})\n  }\n   \n  componentDidMount() {\n    API.validate()\n      .then(data => {\n        if (data.error){\n          this.props.history.push('/')\n        }\n        else {\n          this.signin(data.username, localStorage.getItem('token'))\n          API.getDashboard()\n          .then(data => {\n              if(data.error) {\n                  alert(\"You don't have any memes!\")\n              } else {\n                  this.addManyToMyMemes(data)\n              }\n        })\n        \n      }\n    })\n  }\n\n  render() {\n    const {username, myMemes} = this.state\n    const {signin, signup, signout, addManyToMyMemes} = this\n    return (\n      <div className=\"App\">\n        <div className=\"App\">\n          <Switch>\n            <Route exact path='/' component={Home} />\n            <Route exact path='/signin' component={props => <Signin {...props} signin={signin}/>} />\n            <Route exact path='/signup' component={props => <Signup {...props} signup={signup}/>} />\n            <Route exact path='/dashboard' component={props => <Dashboard {...props} username={username} signout={signout} myMemes={myMemes} addManyToMyMemes={addManyToMyMemes}/>}/>\n            <Route exact path='/memes'  component={props => <Memes {...props} username={username} signout={signout} addToMyMemes={this.addToMyMemes}/>}/>\n            <Route component={() => <h1>Page not found.</h1>} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n  \n}\n\nexport default withRouter(App);"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAO,OAAO;AACtC,OAAO,WAAW;AAClB,SAASC,KAAK,EAAEC,MAAM,EAAEC,UAAU,QAAQ,kBAAkB;AAE5D,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAOC,KAAK,MAAM,cAAc;AAChC,OAAOC,GAAG,MAAM,OAAO;AACvB,OAAOC,SAAS,MAAM,mBAAmB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGzC,MAAMC,GAAG,SAASZ,SAAS,CAAC;EAAAa,YAAA;IAAA,SAAAC,SAAA;IAAA,KAC1BC,KAAK,GAAG;MACNC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE;IACX,CAAC;IAAA,KAEDC,MAAM,GAAG,CAACF,QAAQ,EAAEG,KAAK,KAAK;MAC5BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;MACpC,IAAI,CAACG,QAAQ,CAAC;QAACN;MAAQ,CAAC,EAAE,MAAM;QAC9B,IAAI,CAACO,KAAK,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;MACnC,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDC,MAAM,GAAIV,QAAQ,IAAK;MACrB,IAAI,CAACM,QAAQ,CAAC;QAACN;MAAQ,CAAC,CAAC;IAC3B,CAAC;IAAA,KAEDW,OAAO,GAAG,MAAM;MACd,IAAI,CAACL,QAAQ,CAAC;QAACN,QAAQ,EAAE;MAAE,CAAC,CAAC;MAC7BI,YAAY,CAACQ,UAAU,CAAC,OAAO,CAAC;MAChC,IAAI,CAACL,KAAK,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IAC9B,CAAC;IAAA,KAEDI,YAAY,GAAIC,OAAO,IAAK;MAC1B,IAAI,CAACR,QAAQ,CAAC;QAACL,OAAO,EAAE,CAAC,GAAG,IAAI,CAACF,KAAK,CAACE,OAAO,EAAEa,OAAO;MAAC,CAAC,CAAC;IAC5D,CAAC;IAAA,KAEDC,gBAAgB,GAAIC,QAAQ,IAAK;MAC/B,IAAI,CAACV,QAAQ,CAAC;QAACL,OAAO,EAAE,CAAC,GAAG,IAAI,CAACF,KAAK,CAACE,OAAO,EAAE,GAAGe,QAAQ;MAAC,CAAC,CAAC;IAChE,CAAC;EAAA;EAEDC,iBAAiBA,CAAA,EAAG;IAClBzB,GAAG,CAAC0B,QAAQ,EAAE,CACXC,IAAI,CAACC,IAAI,IAAI;MACZ,IAAIA,IAAI,CAACC,KAAK,EAAC;QACb,IAAI,CAACd,KAAK,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MAC9B,CAAC,MACI;QACH,IAAI,CAACP,MAAM,CAACkB,IAAI,CAACpB,QAAQ,EAAEI,YAAY,CAACkB,OAAO,CAAC,OAAO,CAAC,CAAC;QACzD9B,GAAG,CAAC+B,YAAY,EAAE,CACjBJ,IAAI,CAACC,IAAI,IAAI;UACV,IAAGA,IAAI,CAACC,KAAK,EAAE;YACXG,KAAK,CAAC,2BAA2B,CAAC;UACtC,CAAC,MAAM;YACH,IAAI,CAACT,gBAAgB,CAACK,IAAI,CAAC;UAC/B;QACN,CAAC,CAAC;MAEJ;IACF,CAAC,CAAC;EACJ;EAEAK,MAAMA,CAAA,EAAG;IACP,MAAM;MAACzB,QAAQ;MAAEC;IAAO,CAAC,GAAG,IAAI,CAACF,KAAK;IACtC,MAAM;MAACG,MAAM;MAAEQ,MAAM;MAAEC,OAAO;MAAEI;IAAgB,CAAC,GAAG,IAAI;IACxD,oBACEpB,OAAA;MAAK+B,SAAS,EAAC,KAAK;MAAAC,QAAA,eAClBhC,OAAA;QAAK+B,SAAS,EAAC,KAAK;QAAAC,QAAA,eAClBhC,OAAA,CAACT,MAAM;UAAAyC,QAAA,gBACLhC,OAAA,CAACV,KAAK;YAAC2C,KAAK;YAACC,IAAI,EAAC,GAAG;YAACC,SAAS,EAAE1C;UAAK;YAAA2C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAG,eACzCvC,OAAA,CAACV,KAAK;YAAC2C,KAAK;YAACC,IAAI,EAAC,SAAS;YAACC,SAAS,EAAEvB,KAAK,iBAAIZ,OAAA,CAACN,MAAM;cAAA,GAAKkB,KAAK;cAAEL,MAAM,EAAEA;YAAO;cAAA6B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAG;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAG,eACxFvC,OAAA,CAACV,KAAK;YAAC2C,KAAK;YAACC,IAAI,EAAC,SAAS;YAACC,SAAS,EAAEvB,KAAK,iBAAIZ,OAAA,CAACL,MAAM;cAAA,GAAKiB,KAAK;cAAEG,MAAM,EAAEA;YAAO;cAAAqB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAG;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAG,eACxFvC,OAAA,CAACV,KAAK;YAAC2C,KAAK;YAACC,IAAI,EAAC,YAAY;YAACC,SAAS,EAAEvB,KAAK,iBAAIZ,OAAA,CAACF,SAAS;cAAA,GAAKc,KAAK;cAAEP,QAAQ,EAAEA,QAAS;cAACW,OAAO,EAAEA,OAAQ;cAACV,OAAO,EAAEA,OAAQ;cAACc,gBAAgB,EAAEA;YAAiB;cAAAgB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAG;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAE,eACzKvC,OAAA,CAACV,KAAK;YAAC2C,KAAK;YAACC,IAAI,EAAC,QAAQ;YAAEC,SAAS,EAAEvB,KAAK,iBAAIZ,OAAA,CAACJ,KAAK;cAAA,GAAKgB,KAAK;cAAEP,QAAQ,EAAEA,QAAS;cAACW,OAAO,EAAEA,OAAQ;cAACE,YAAY,EAAE,IAAI,CAACA;YAAa;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAG;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAE,eAC7IvC,OAAA,CAACV,KAAK;YAAC6C,SAAS,EAAEA,CAAA,kBAAMnC,OAAA;cAAAgC,QAAA,EAAI;YAAe;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAM;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAG;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAC7C;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACL;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACF;EAEV;AAEF;AAEA,eAAAC,EAAA,GAAehD,UAAU,CAACS,GAAG,CAAC;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}